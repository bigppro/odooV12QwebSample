<?xml version="1.0" encoding="UTF-8"?>
<!--
    Part of Odoo Module Developed by 73lines
    See LICENSE file for full copyright and licensing details.
    c : container
    m : main
    fld : field
    fn : function
    rel: relation field
    chld: child
    attr-1 : first attribute
    attr-2 : second attribute
    val: value
    sel: selection
-->
<templates xml:space="preserve">
    <t t-name="AttributeSelection">
        <option value=""></option>
        <t t-foreach="attribute_types" t-as="attribute">
            <option t-att-value="attribute"><t t-esc="attribute" /></option>
        </t>
    </t>
    <t t-name="report_designer_dialogbox">
        <div class="form-group">
            <div class="row">
                <div class="col-sm-12">
                    <label class="control-label" for="attribute_type">Attribute Name :</label>
                    <select id="attribute_type" class="form-control" required="required"/>
                </div>
            </div>
        </div>

        <div class="form-group attr-1 d-none">
            <div class="attr-inner d-none">
                <div class="c-m-sel">
                    <h5 class="text-center">Main Object</h5>

                    <!-- Main Fields (Normal and many2one) -->
                    <div class="row mr0 ml0">
                        <div class="col-sm-6 d-none c-m-fld-normal-m2o">
                            <label class="control-label" for="m-fld-normal-m2o">Fields(Normal &amp; m2o) :</label>
                            <select id="m-fld-normal-m2o" class="form-control">
                                <option value=""></option>
                                <t t-foreach="field_names" t-as="field">
                                    <option t-if="field_names[field]['type'] !== 'many2many' and field_names[field]['type'] !== 'one2many'" t-att-value="'doc.' + field"><t t-esc="field_names[field]['label'] + ' (' + field + ')'" /></option>
                                </t>
                            </select>
                        </div>

                        <!-- Main Relation Fields -->
                        <div class="col-sm-6 d-none c-m-rel-fld">
                            <label class="control-label" for="m-rel-fld">Relation Fields :</label>
                            <select id="m-rel-fld" class="form-control">
                                <option value=""/>
                            </select>
                        </div>

                        <!-- Main Fields (many2many and one2many) -->
                        <div class="col-sm-6 d-none c-m-fld-m2m-o2m">
                            <label class="control-label" for="m-fld-m2m-o2m">Fields(o2m &amp; m2m) :</label>
                            <select id="m-fld-m2m-o2m" class="form-control">
                                <option value=""></option>
                                <t t-foreach="field_names" t-as="field">
                                    <option t-if="field_names[field]['type'] === 'many2many' or field_names[field]['type'] === 'one2many'" t-att-value="'doc.' + field"><t t-esc="field_names[field]['label'] + ' (' + field + ')'" /></option>
                                </t>
                            </select>
                        </div>

                        <!-- Main Functions -->
                        <div class="col-sm-6 d-none c-m-fn">
                            <label class="control-label" for="m-fn"> Functions :</label>
                            <select id="m-fn" class="form-control">
                                <option value=""></option>
                                <t t-foreach="function_names" t-as="func">
                                    <option t-att-value="'doc.' + func + '()'"><t t-esc="func + '()'" /></option>
                                </t>
                            </select>
                        </div>
                    </div>
                </div>

                <t t-if="relation_field_names">
                    <!-- Relational Fields Name -->
                    <div class="row mr0 ml0">
                        <div class="col-sm-12 c-chld-fld">
                            <h5 class="text-center">Child Object</h5>
                            <label class="control-label" for="chld-fld">Fields:</label>
                            <select id="chld-fld" class="form-control">
                                <option value=""></option>
                                <t t-foreach="relation_field_names" t-as="field">
                                    <option t-att-value="as + '.' + field">
                                        <t t-esc="relation_field_names[field] + ' (' + field + ')'" />
                                    </option>
                                </t>
                            </select>
                        </div>
                    </div>
                </t>
            </div>

            <div class="col-sm-12 c-attr-1-custom-type d-none">
                <label class="control-label" for="custom_attribute_type">Custom Attribute :</label>
                <input type="text" id="custom_attribute_type" class="form-control"/>
            </div>

            <div class="col-sm-12 c-attr-1-val">
                <label class="control-label" for="attribute_value">Attribute Value :</label>
                <input type="text" id="attribute_value" class="form-control"/>
            </div>
        </div>

        <div class="form-group attr-2 d-none">
            <h4 class="text-center">Second Attribute</h4>
            <div class="col-sm-6">
                <label class="control-label" for="second_attribute_type">Name :</label>
                <input type="text" id="second_attribute_type" class="form-control" disabled="disabled"/>
            </div>
            <div class="col-sm-6">
                <label class="control-label" for="second_attribute_value">Value :</label>
                <input type="text" id="second_attribute_value" class="form-control"/>
            </div>
        </div>

        <div class="form-group c-add-remove d-none">
            <div class="col-sm-12 text-right">
                <button class="btn btn-primary" id="save_close">Save &amp; Close</button>
                <button class="btn btn-danger" id="remove_attr" disabled="disabled">Remove</button>
                <button class="btn btn-success" id="add_update_attr" disabled="disabled">Add</button>
            </div>
        </div>
    </t>

    <t t-name="MainObjectRelationFields">
        <option value=""></option>
        <t t-foreach="fields" t-as="field">
            <option t-att-value="'doc.' + obj + '.' + field['name']"><t t-esc="field['field_description'] + ' (' + field['name'] + ')'" /></option>
        </t>
    </t>

    <t t-name="WidgetGeneratorSelection">
        <div class="col-sm-4 d-none" id="widget-selection">
            <label class="control-label" for="widget_name">Widget :</label>
            <select id="widget_name" class="form-control">
                <option value=""></option>
                <t t-foreach="widgets" t-as="widget">
                    <option t-att-value="widgets[widget]">
                        <t t-esc="widget" />
                    </option>
                </t>
            </select>
        </div>
    </t>

    <t t-extend="DashboardMain">
        <t t-jquery=".o_web_settings_dashboard_apps" t-operation="after">
            <div class="text-center o_web_settings_dashboard_report_designer"></div>
        </t>
    </t>

    <t t-name="DashboardReportDesigner">
        <div class="text-center o_web_settings_dashboard_report_designer mt8">
            <a class="text-center inside_a_org_uuid" href="https://www.73Lines.com" target="_blank">
                <img class="img img-responsive org_logo_with_uuid_name text-center"
                     data-app-name="report_designer_73lines"
                     style="margin:  auto;"
                     src="/report_designer_73lines/static/description/icon.png"
                     onerror="this.src='/report_designer_73lines/static/description/icon.png';"
                />
            </a>
            <div class="row">
                <div class="col-md-6">
                    <a href="https://www.73lines.com/shop"
                       target="_blank"
                       class="btn btn-primary btn-block mt8 mb8">
                        <i class="fa fa-shopping-cart"/> Store
                    </a>
                </div>
                <div class="col-md-6">
                    <a href="https://www.73lines.com/page/contactus"
                       target="_blank"
                       class="btn btn-primary btn-block mt8 mb8">
                        <i class="fa fa-envelope"/> Contact us
                    </a>
                </div>
                <div class="col-md-12">
                    <div class="o_web_settings_dashboard_header o_report_list mt16 mb16" style="cursor: pointer;">
                        0 Reports
                    </div>
                </div>
                <div class="col-md-12">
                    <a class="btn btn-primary btn-block text-white o_start_report_designing"><strong>Start Report Designing</strong></a>
                </div>
            </div>
        </div>
    </t>

    <t t-name="ReportExportDialogContent">
        <div class="form-group">
            <div class="col-sm-12">
                <label class="control-label" for="report-name"> Name :</label>
                <input id="report-name" class="form-control" required="required" t-att-value="name"/>
            </div>
        </div>

        <div class="form-group">
            <div class="col-sm-12">
                <label class="control-label" for="modules">Dependency :</label>
                <select id="modules" class="form-control" required="required" multiple="">
                    <t t-foreach="modules" t-as="module">
                        <option t-att-value="module" selected=""><t t-esc="module" /></option>
                    </t>
                </select>
                <div class="alert alert-warning mb0 mt8 dependency-warning">
                    <span><i class="fa fa-warning fa-2x"/> Remove or Add Dependency carefully if needed. It may cause error while installing exported module.</span>
                </div>
            </div>
        </div>
    </t>

</templates>
